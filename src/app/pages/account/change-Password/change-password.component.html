<!-- <app-breadcrumb [title]="'Dashboard'" [breadcrumb]="'Dashboard'"></app-breadcrumb> -->

<section class="section-b-space">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="account-sidebar" (click)="ToggleDashboard()">
                    <a href="javascript:void(0)" class="popup-btn">
                        My Account
                    </a>
                </div>
                <div class="dashboard-left" [class.open]="openDashboard">
                    <div class="collection-mobile-back" (click)="ToggleDashboard()">
                        <span class="filter-back">
                            <i class="fa fa-angle-left" aria-hidden="true"></i> back
                        </span>
                    </div>
                    <div class="block-content">
                        <ul>
                            <li><a [routerLink]="['/dashboard']">My Account</a></li>
                            <li><a [routerLink]="['/address']">Address Book</a></li>
                            <li><a [routerLink]="['/order-list']">Order List</a></li>
                            <li class="active"><a [routerLink]="['/change-password']">Change Password</a></li>
                            <li class="last"><a (click)="logout()">Log Out</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- CHANGE PASSWORD -->
            <div class="col-lg-9 contact-page register-page">
                <div class="dashboard-right">
                    <div class="dashboard">
                        <div class="box-account box-info">
                            <div class="box-head mb-3">
                                <h2>Change Password</h2>
                            </div>
                            <div>
                                <div class="box">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <form class="theme-form" [formGroup]="form" (ngSubmit)="onSubmit()">
                                                <div class="form-row">
                                                    <div class="col-md-12">
                                                        <label for="old-password">Old Password</label>
                                                        <input type="password" class="form-control"  id="old_password" placeholder="Enter Your Old Password" formControlName="oldPassword" (keydown)="handleEnter($event, 'new_password')">
                                                        <div *ngIf="oldPassword.invalid && (oldPassword.dirty || oldPassword.touched) && oldPassword.errors" class="text text-danger mt-1">
                                                            <div *ngIf="oldPassword.errors?.required">
                                                                Password is required.
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <label for="new_password">New Password</label>
                                                        <input type="password" class="form-control"  id="new_password" placeholder="Enter Your New Password" formControlName="newPassword" name="userPassword" #userPassword (keydown)="handleEnter($event, 'confirm_password')">
                                                        <div *ngIf="newPassword.invalid && (newPassword.dirty || newPassword.touched) && newPassword.errors" class="text text-danger mt-1 ">
                                                            <div *ngIf="newPassword.errors?.required">
                                                                Password is required.
                                                            </div>
                                                            <div *ngIf="newPassword.errors?.minlength">
                                                                Password will be minimum 8 character.
                                                            </div>
                                                            <div *ngIf="newPassword.errors?.maxlength">
                                                                Password will be miximum 15 character.
                                                            </div>
                                                            <div class="text-danger" class="error-text" *ngIf="newPassword.hasError('passwordStrength')">
                                                                {{newPassword.errors['passwordStrength']}}
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="col-md-12">
                                                        <label for="confirm_password">Confirm Password</label>
                                                        <input type="password" class="form-control"  id="confirm_password" placeholder="Confirm Password" formControlName="confirmPassword" (keydown)="handleEnter($event)">
                                                        <div *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched) && confirmPassword.errors" class="text text-danger mt-1 pb-3">
                                                            <div *ngIf="confirmPassword.errors?.required">
                                                                Confirm password is required.
                                                            </div>
                                                            <div *ngIf="confirmPassword.errors.matching">Passwords does not match</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <button class="loginBtn"  type="submit">Save Settings</button>
                                                    </div>
                                                    <div [className]="isValid ? 'alert mt-3 alert-success' : 'alert mt-3 alert-danger'" role="alert" *ngIf="isValid">
                                                        <div class="d-flex align-items-center"><span *ngIf="isValid"><i class="fa fa-spinner fa-spin" style="font-size:24px"></i> &nbsp;</span>{{signupMassage}}</div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>